export const metadata = {
  date: "2019-02-20T19:26:54.937Z",
  title: "The Website Performance Checklist",
  description:
    "A grocery list of performance improvements that will hopefully make your website faster",
  image: require("./browser.png"),
  imageAlt: "A little browser lifting weights",
};

## Network

- http2 + self-hosted 3rd party assets
- dns-prefetch, preconnect and preload
- Eliminate render-blocking resources (async, defer)

## Bundling

- minification JS, CSS, HTML
- bundle splitting
- tree shaking
- Remove unused CSS (css-in-js can help with that)
- [Dynamic imports](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#dynamic_imports)
- [Native modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)

## Frontend

- Force the GPU for certain animations
- will-change (do not overuse, add when the element is inView)
- requestAnimationFrame
- requestIdleCallback
- passive listeners
- web workers
- Virtualization to limit the amount of DOM elements
- css content-visibility
- React re-rendering (React.memo)

## Node.js

- Avoid gzipping responses on the main thread (Can make things worse)
- Production flag `NODE_ENV`

## Caching

- Avoid hitting the origin server
  - Browser caching
  - CDNs
- cache-control
- micro-caching

## Fonts

- use [variable fonts](https://web.dev/variable-fonts/) (if possible)
- [`font-display: swap`](https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display)
- Self-host fonts to take advantage of http2
- Google font text parameter: https://fonts.googleapis.com/css2?family=Akaya+Telivigala&display=swap&text=THIS_IS_SOME_TEXT

## Images

- Modern image formats (webp)
- Properly sized images using the `srcSet` and `sizes` attributes
- lazy loading (`loading` attribute)
- Optimize images and SVGs

## Tools that can help with troubleshooting

- [`performance.mark`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/mark)
- [`console.time`](https://developer.mozilla.org/en-US/docs/Web/API/console/time) and [`console.timeEnd`](https://developer.mozilla.org/en-US/docs/Web/API/console/timeEnd)
- Network and CPU throttling in Chrome devTools
- [`webpack-bundle-analyzer`](https://www.npmjs.com/package/webpack-bundle-analyzer)
- [React profiler](https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html)
- [Google Lighthouse](https://github.com/GoogleChrome/lighthouse)
- [autocannon](https://github.com/mcollina/autocannon)
- [0x](https://github.com/davidmarkclements/0x)
